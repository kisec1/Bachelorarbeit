<mat-card>
  <mat-card-title>{{"overview.overview"|translate}}</mat-card-title>
  <mat-tab-group>

    <mat-tab label="{{'overview.client'|translate}}">
      <app-client-table></app-client-table>
    </mat-tab>

    <mat-tab label="{{'overview.list'|translate}}">
      <mat-expansion-panel>
        <mat-expansion-panel-header>
          <mat-panel-title>
            {{'overview.filter'|translate}}
          </mat-panel-title>
        </mat-expansion-panel-header>
        <fieldset>
          <legend>{{'overview.viewColumn'|translate}}</legend>
          <table>
            <tr>
              <td>
                <mat-checkbox class="example-margin"
                              [(ngModel)]="serial" name="serial"
                              (click)="setRow('serial')">{{'overview.serial'|translate}}
                </mat-checkbox>
              </td>
              <td>
                <mat-checkbox class="example-margin"
                              [(ngModel)]="state" name="state"
                              (click)="setRow('state')">{{'overview.state'|translate}}
                </mat-checkbox>
              </td>
              <td>
                <mat-checkbox class="example-margin"
                              [(ngModel)]="description" name="description"
                              (click)="setRow('description')">{{'overview.description'|translate}}
                </mat-checkbox>
              </td>
            </tr>
            <tr>
              <td>
                <mat-checkbox class="example-margin"
                              [(ngModel)]="brand" name="brand"
                              (click)="setRow('brand')">{{'overview.brand'|translate}}
                </mat-checkbox>
              </td>
              <td>
                <mat-checkbox class="example-margin"
                              [(ngModel)]="department" name="department"
                              (click)="setRow('department')">{{'overview.department'|translate}}
                </mat-checkbox>
              </td>
              <td>
                <mat-checkbox class="example-margin"
                              [(ngModel)]="location" name="location"
                              (click)="setRow('location')">{{'overview.location'|translate}}
                </mat-checkbox>
              </td>
            </tr>
            <tr>
              <td>
                <mat-checkbox class="example-margin"
                              [(ngModel)]="sla" name="sla"
                              (click)="setRow('sla')">{{'overview.sla'|translate}}
                </mat-checkbox>
              </td>
              <td>
                <mat-checkbox class="example-margin"
                              [(ngModel)]="nextChack" name="nextCheck"
                              (click)="setRow('nextCheck')">{{'overview.nextCheck'|translate}}
                </mat-checkbox>
              </td>
              <td>
                <mat-checkbox class="example-margin"
                              [(ngModel)]="lastChack" name="lastCheck"
                              (click)="setRow('lastCheck')">{{'overview.lastCheck'|translate}}
                </mat-checkbox>
              </td>
            </tr>
          </table>
        </fieldset>
        <br>
        <fieldset>
          <legend>{{'overview.nextCheckUntil'|translate}}</legend>
          <mat-form-field>
            <input matInput
                   [matDatepicker]="dp3"
                   disabled
                   [(ngModel)]="nextCheckDate"
                   name="nextCheckDate">
            <mat-datepicker-toggle matSuffix [for]="dp3"></mat-datepicker-toggle>
            <mat-datepicker #dp3 disabled="false"></mat-datepicker>
            <mat-label> {{ 'stk.date' | translate}}</mat-label>
          </mat-form-field>
        </fieldset>
        <br>
        <fieldset>
          <legend>{{'overview.textFilter'|translate}}</legend>
          <mat-form-field>
            <input matInput (keyup)="applyFilter($event.target.value)" placeholder="Filter">
          </mat-form-field>
        </fieldset>
      </mat-expansion-panel>


      <mat-table #myTable [dataSource]="dataSource" matSort aria-label="Devices">

        <!-- ID Column -->
        <ng-container matColumnDef="id">
          <mat-header-cell *matHeaderCellDef mat-sort-header>{{'overview.id'|translate}}</mat-header-cell>
          <mat-cell *matCellDef="let row"> {{row.id}} </mat-cell>
        </ng-container>

        <!-- Model Column -->
        <ng-container matColumnDef="model">
          <mat-header-cell *matHeaderCellDef mat-sort-header>{{'overview.model'|translate}}</mat-header-cell>
          <mat-cell *matCellDef="let row"> {{row.model}} </mat-cell>
        </ng-container>

        <!-- Next-check Column -->
        <ng-container matColumnDef="nextCheck">
          <mat-header-cell *matHeaderCellDef mat-sort-header>{{'overview.nextCheck'|translate}}</mat-header-cell>
          <mat-cell *matCellDef="let row"> {{row.nextCheck}} </mat-cell>
        </ng-container>

        <!-- Last-check Column -->
        <ng-container matColumnDef="lastCheck">
          <mat-header-cell *matHeaderCellDef mat-sort-header>{{'overview.lastCheck'|translate}}</mat-header-cell>
          <mat-cell *matCellDef="let row"> {{row.lastCheck}} </mat-cell>
        </ng-container>

        <!-- Serial Column -->
        <ng-container matColumnDef="serial">
          <mat-header-cell *matHeaderCellDef mat-sort-header>{{'overview.serial'|translate}}</mat-header-cell>
          <mat-cell *matCellDef="let row"> {{row.serial}} </mat-cell>
        </ng-container>

        <!-- Description Column -->
        <ng-container matColumnDef="description">
          <mat-header-cell *matHeaderCellDef mat-sort-header>{{'overview.description'|translate}}</mat-header-cell>
          <mat-cell *matCellDef="let row"> {{row.description}} </mat-cell>
        </ng-container>

        <!-- Department Column -->
        <ng-container matColumnDef="department">
          <mat-header-cell *matHeaderCellDef mat-sort-header>{{'overview.department'|translate}}</mat-header-cell>
          <mat-cell *matCellDef="let row"> {{row.department}} </mat-cell>
        </ng-container>

        <!-- Location Column -->
        <ng-container matColumnDef="location">
          <mat-header-cell *matHeaderCellDef mat-sort-header>{{'overview.location'|translate}}</mat-header-cell>
          <mat-cell *matCellDef="let row"> {{row.location}} </mat-cell>
        </ng-container>

        <!-- Sla Column -->
        <ng-container matColumnDef="sla">
          <mat-header-cell *matHeaderCellDef mat-sort-header>{{'overview.sla'|translate}}</mat-header-cell>
          <mat-cell *matCellDef="let row"> {{row.sla}} </mat-cell>
        </ng-container>

        <!-- State Column -->
        <ng-container matColumnDef="state">
          <mat-header-cell *matHeaderCellDef mat-sort-header>{{'overview.state'|translate}}</mat-header-cell>
          <mat-cell *matCellDef="let row"> {{row.state}} </mat-cell>
        </ng-container>

        <!-- Brand Column -->
        <ng-container matColumnDef="brand">
          <mat-header-cell *matHeaderCellDef mat-sort-header>{{'overview.brand'|translate}}</mat-header-cell>
          <mat-cell *matCellDef="let row"> {{row.brand}} </mat-cell>
        </ng-container>

        <mat-header-row *matHeaderRowDef="displayedColumns"></mat-header-row>
        <mat-row *matRowDef="let row; columns: displayedColumns;"></mat-row>
      </mat-table>
      <mat-paginator #paginator
                     [length]="dataSource.data.length"
                     [pageIndex]="0"
                     [pageSize]="20"
                     [pageSizeOptions]="[5, 10, 20, 30]">
      </mat-paginator>
    </mat-tab>
  </mat-tab-group>
  <mat-progress-bar mode="indeterminate" *ngIf="waiting"></mat-progress-bar>
  <button mat-flat-button (click)="getDevices()">checkDevices</button>
</mat-card>


